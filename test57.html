<html>
  <head>
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>ロケーションベースTest9</title>
    <script src="https://aframe.io/releases/1.3.0/aframe.min.js"></script>
    <script src="https://raw.githack.com/AR-js-org/AR.js/master/aframe/build/aframe-ar-nft.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script src="./js/mymodal.js"></script>
    <link rel="stylesheet" href="css/common.css">
  </head>

  <body>
    <div id="rotateMessage">Rotate Your Phone</div>
    <div id="contentWrapper">
        <div id="dropdownContainer"></div>
        <button class="reload-button" onclick="location.reload()">Reload</button>
        <button id="overviewButton" class="overview-button">概要</button>
    
        <div id="compassHeadingDisplay">
            <span id="direction"></span>
        </div>

        <a-scene vr-mode-ui="enabled: false" embedded arjs="sourceType: webcam; videoTexture: true; debugUIEnabled: false">
            <a-assets>
                <a-asset-item id="arrow-asset" src="https://code4fukui.github.io/vr-dinosaur-museum/arrow.glb"></a-asset-item>
            </a-assets>
            <a-entity id="modelContainer"></a-entity>
            <a-camera gps-camera="gpsMinDistance:1;" rotation-reader></a-camera>
        </a-scene>
    
        <div id="modalContainer"></div>
    
        <div id="modalContainer2" class="modal" onclick="closeModalBackground(event)">
            <div class="modal-content">
                <span class="close" onclick="closeModal2()">&times;</span>
                <div id="overviewTitle"></div>
                <div id="overviewSubtitle"></div>
                <div id="overviewDescription"></div>
                <img id="overviewImage" src="" alt="Overview Image">
                <a id="overviewUrl" href="#" target="_blank">詳細を見る</a>
            </div>
        </div>
    </div>
    <script src="./js/common.js"></script>
    <script>
      $(window).on('load', function(){
        if (window.matchMedia("(min-width: 1000px)").matches || Math.abs(window.orientation) === 0) {
          $('#rotateMessage').hide();
          $('#contentWrapper').show();
        } else {
          $('#rotateMessage').show();
          $('#contentWrapper').hide();
        }
      });
      $(window).on('orientationchange resize', function(){
        if (window.matchMedia("(min-width: 1000px)").matches || Math.abs(window.orientation) === 0) {
          location.reload();
          $('#rotateMessage').hide();
          $('#contentWrapper').show();
        } else {
          location.reload();
          $('#rotateMessage').show();
          $('#contentWrapper').hide();
        }
      });
    </script>
  </body>
</html>
