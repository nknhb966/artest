<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>スマートフォンの位置</title>
</head>
<body>
<div id="positionInfo">
  X: <span id="xPosition"></span> m<br>
  Y: <span id="yPosition"></span> m<br>
  Z: <span id="zPosition"></span> m<br>
</div>

<script>
window.addEventListener('devicemotion', handleMotion);

var initialX = null;
var initialY = null;

function handleMotion(event) {
  if (initialX === null && initialY === null) {
    // 最初の位置を取得
    initialX = event.accelerationIncludingGravity.x;
    initialY = event.accelerationIncludingGravity.y;
  }

  // 現在の位置を取得
  var currentX = event.accelerationIncludingGravity.x;
  var currentY = event.accelerationIncludingGravity.y;

  // 最初の位置からの相対位置を計算
  var deltaX = currentX - initialX;
  var deltaY = currentY - initialY;

  // X, Y座標を表示
  document.getElementById("xPosition").textContent = deltaX.toFixed(2);
  document.getElementById("yPosition").textContent = deltaY.toFixed(2);
}
</script>
</body>
</html>
